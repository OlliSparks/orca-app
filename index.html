<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#3b82f6">
    <meta name="description" content="ORCA 2.0 - Lieferanten-App fÃ¼r das Asset-Management-System">
    <title>ORCA 2.0 - Inventory Service</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/orca-logo.svg">

    <!-- Global Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- AG Grid Community CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@32.3.3/styles/ag-grid.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@32.3.3/styles/ag-theme-alpine.css">
</head>
<body>
    <!-- Header (wird dynamisch gefÃ¼llt) -->
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <div class="header-logo">
                    <img src="assets/orca-logo.svg" alt="ORCA Logo">
                </div>
                <div class="header-text">
                    <h1 id="headerTitle">orca 2.0 - Werkzeug Management</h1>
                    <div class="subtitle" id="headerSubtitle">Dashboard</div>
                </div>
            </div>

            <!-- Header Stats -->
            <div class="header-stats" id="headerStats" style="display: none;">
                <div class="stat-item">
                    <span>Gesamt:</span>
                    <span class="stat-value" id="statTotal">0</span>
                </div>
                <div class="stat-item">
                    <span>Aktiv:</span>
                    <span class="stat-value" id="statActive">0</span>
                </div>
                <div class="stat-item">
                    <span>Lieferanten:</span>
                    <span class="stat-value" id="statSuppliers">0</span>
                </div>
            </div>

            <!-- Header Action Buttons (uniform round) -->
            <div class="header-actions">
                <button class="header-action-btn" onclick="searchService.open()" title="Suche (Strg+K)" aria-label="Suche">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="M21 21l-4.35-4.35"></path>
                    </svg>
                </button>
                <button class="header-action-btn" onclick="themeService.toggle()" title="Design wechseln" aria-label="Design wechseln" id="themeToggleBtn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sun">
                        <circle cx="12" cy="12" r="5"></circle>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
                    </svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-moon" style="display:none;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
                <button class="header-action-btn" onclick="router.navigate('/messages')" title="Nachrichten" aria-label="Nachrichten">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                </button>
                <button class="header-action-btn" onclick="router.navigate('/kpi')" title="KPI Dashboard" aria-label="KPIs">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 20V10"></path>
                        <path d="M12 20V4"></path>
                        <path d="M6 20v-6"></path>
                    </svg>
                </button>
                <button class="header-action-btn" onclick="router.navigate('/glossar')" title="Hilfe & Glossar" aria-label="Hilfe">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                        <circle cx="12" cy="17" r="0.5" fill="currentColor"></circle>
                    </svg>
                </button>
                <button class="header-action-btn" onclick="router.navigate('/settings')" title="Einstellungen" aria-label="Einstellungen">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </button>
            </div>

            <!-- Role Dropdown (Dev/Support) -->
            <div class="role-dropdown-container">
                <select id="roleDropdown" class="role-dropdown" onchange="permissionService.setCurrentRole(this.value); location.reload();">
                    <option value="SUP">ğŸ›¡ï¸ SUP</option>
                    <option value="WVL">ğŸ‘” WVL</option>
                    <option value="IVL">ğŸ“‹ IVL</option>
                    <option value="WVL-LOC">ğŸ“ WVL-LOC</option>
                    <option value="ID">ğŸ”§ ID</option>
                    <option value="ITL">ğŸ’» ITL</option>
                    <option value="VVL">ğŸšš VVL</option>
                    <option value="FEK">ğŸ­ FEK</option>
                    <option value="CL">âœ… CL</option>
                </select>
            </div>

            <!-- Navigation Dropdown -->
            <div class="nav-dropdown-container">
                <select id="navDropdown" class="nav-dropdown" onchange="router.navigate(this.value)">
                    <option value="/dashboard">ğŸ  Dashboard</option>
                    <option value="/agenten">ğŸ¤– Agenten</option>
                    <option value="/tools">ğŸ”§ WerkzeugÃ¼bersicht</option>
                    <option value="/fm-akte">ğŸ“‚ FM-Akte</option>
                    <option value="/inventur">ğŸ” Inventur</option>
                    <option value="/planung">ğŸ“… Planung</option>
                    <option value="/abl">ğŸ“¦ ABL</option>
                    <option value="/verlagerung">ğŸšš Verlagerung</option>
                    <option value="/partnerwechsel">ğŸ”„ Vertragspartnerwechsel</option>
                    <option value="/verschrottung">â™»ï¸ Verschrottung</option>
                    <option value="/unternehmen">ğŸ¢ Unternehmen</option>
                                    </select>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app">
        <!-- Content wird hier dynamisch geladen -->
        <div class="container" style="text-align: center; padding: 4rem 2rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">â³</div>
            <p style="color: #6b7280;">Lade Anwendung...</p>
        </div>
    </div>

    <!-- Footer (wird dynamisch gefÃ¼llt) -->
    <div class="footer">
        <div class="footer-content">
            <div class="footer-info">
                <strong>orca 2.0</strong> Werkzeug Management
                <span id="apiStatus" style="color: #f97316; margin-left: 0.5rem;"></span>
            </div>
            <div class="footer-actions" id="footerActions">
                <!-- Wird von Seiten dynamisch gefÃ¼llt -->
            </div>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>

    <!-- AG Grid Community -->
    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community@32.3.3/dist/ag-grid-community.min.js"></script>

    <!-- Scripts -->
    <!-- Configuration & Auth mÃ¼ssen zuerst geladen werden -->
    <script src="js/config/api-config.js" defer></script>
    <script src="js/services/auth.js" defer></script>
    <script src="js/services/permission-service.js" defer></script>
    <script src="js/services/api.js?v=20251215b" defer></script>
    <script src="js/services/error-service.js" defer></script>
    <!-- <script src="js/services/loading-service.js" defer></script> -->
    <!-- <script src="js/services/keyboard-service.js" defer></script> -->
    <!-- <script src="js/services/breadcrumb-service.js" defer></script> -->
    <!-- <script src="js/services/search-service.js" defer></script> -->
    <script src="js/services/theme-service.js" defer></script>
    <!-- <script src="js/services/bulk-actions-service.js" defer></script> -->
    <!-- <script src="js/services/offline-service.js" defer></script> -->
    <!-- <script src="js/services/notification-service.js" defer></script> -->
    <!-- <script src="js/services/form-service.js" defer></script> -->
    <!-- <script src="js/services/dragdrop-service.js" defer></script> -->
    <!-- <script src="js/services/animation-service.js" defer></script> -->
    <!-- <script src="js/services/accessibility-service.js" defer></script> -->
    <script src="js/services/message-service.js" defer></script>
    <script src="js/services/onboarding.js" defer></script>
    <script src="js/router.js" defer></script>
    <script src="js/pages/dashboard.js" defer></script>
    <script src="js/pages/fm-list.js" defer></script>
    <script src="js/pages/fm-detail.js" defer></script>
    <script src="js/pages/inventur.js" defer></script>
    <script src="js/pages/planung.js" defer></script>
    <script src="js/pages/abl.js" defer></script>
    <script src="js/pages/abl-detail.js" defer></script>
    <script src="js/pages/verlagerung.js" defer></script>
    <script src="js/pages/verlagerung-detail.js" defer></script>
    <script src="js/pages/partnerwechsel.js" defer></script>
    <script src="js/pages/partnerwechsel-detail.js" defer></script>
    <script src="js/pages/verschrottung.js" defer></script>
    <script src="js/pages/verschrottung-detail.js" defer></script>
    <script src="js/pages/settings.js" defer></script>
    <script src="js/pages/fm-search.js" defer></script>
    <script src="js/pages/unternehmen.js" defer></script>
    <script src="js/pages/kpi.js" defer></script>
    <script src="js/pages/agenten.js" defer></script>
    <script src="js/pages/agent-inventur.js" defer></script>
    <script src="js/pages/agent-abl.js" defer></script>
    <script src="js/pages/agent-reporting.js" defer></script>
    <script src="js/pages/agent-verschrottung.js" defer></script>
    <script src="js/pages/agent-inventurplanung.js" defer></script>
    <script src="js/pages/agent-verlagerung.js" defer></script>
    <script src="js/pages/agent-vpw.js" defer></script>
    <script src="js/pages/agent-api-setup.js" defer></script>
    <script src="js/pages/agent-api-monitor.js" defer></script>
    <script src="js/pages/agent-berechtigungen.js" defer></script>
    <script src="js/pages/agent-bugs.js" defer></script>
    <script src="js/pages/agent-skills.js" defer></script>
    <script src="js/pages/agent-backlog.js" defer></script>
    <script src="js/pages/messages.js" defer></script>
    <script src="js/pages/agent-verlagerung-beantragen.js" defer></script>
    <script src="js/pages/agent-verlagerung-durchfuehren.js" defer></script>
    <script src="js/pages/glossar.js" defer></script>
    <script src="js/app.js" defer></script>
</body>
</html>
